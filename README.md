# LocalAntivirus

**LocalAntivirus** ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –ª–æ–∫–∞–ª—å–Ω—ã–π –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Å–∏–≥–Ω–∞—Ç—É—Ä –ø–æ —Ö–µ—à–∞–º (MD5, SHA1, SHA256).

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
localantivirus/
  assets/
    signatures_part1.json
    signatures_part2.json
    signatures_part3.json
    merge_signatures.py
  cmd/
    macav/
      main.go
  internal/
    filewalk/
      walk.go
    scanner/
      signature/
        signature.go
      scanner.go
    signaturedb/
      db.go
go.mod
go.sum
split_signatures.py
README.md

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```sh
git clone https://github.com/BogdanAlaitsev/localantivirus.git
cd localantivirus
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Go (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

- [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Go](https://golang.org/doc/install)

### 3. –°–æ–±–µ—Ä–∏—Ç–µ –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª —Å–∏–≥–Ω–∞—Ç—É—Ä –∏–∑ —á–∞—Å—Ç–µ–π

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–∞ **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –æ–±—ä–µ–¥–∏–Ω–∏—Ç–µ —á–∞—Å—Ç–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª:

```sh
python3 assets/merge_signatures.py
```

- –°–∫—Ä–∏–ø—Ç `merge_signatures.py` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã `assets/signatures_part*.json` –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª `assets/signatures_merged.json`.
- –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç Python, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞](https://www.python.org/downloads/).

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```sh
go run ./cmd/macav
```

---

## ‚öôÔ∏è –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

| –§–ª–∞–≥         | –û–ø–∏—Å–∞–Ω–∏–µ                                                        | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é                |
|--------------|-----------------------------------------------------------------|--------------------------------------|
| `-dir`       | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è                                     | `.` (—Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è)             |
| `-sigfile`   | –ü—É—Ç—å –∫ JSON-—Ñ–∞–π–ª—É —Å —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏                                 | `assets/signatures_merged.json`      |
| `-timeout`   | –¢–∞–π–º–∞—É—Ç –Ω–∞ –≤—Å—ë —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2m`, `30s`, `5m`)       | `5m` (5 –º–∏–Ω—É—Ç)                       |

**–ü—Ä–∏–º–µ—Ä—ã:**
```sh
go run ./cmd/macav -dir=/Users/username/Downloads
go run ./cmd/macav -sigfile=assets/signatures_merged.json -timeout=10m
```

---

## üõ†Ô∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–±–æ—Ä–∫–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä

1. **–ß–∞—Å—Ç–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä** (`signatures_part1.json`, `signatures_part2.json`, ...) —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `assets/`.
2. **–°–∫—Ä–∏–ø—Ç** `merge_signatures.py` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏—Ö –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª `signatures_merged.json`.
3. **–ê–Ω—Ç–∏–≤–∏—Ä—É—Å** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª `signatures_merged.json` –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

**–í–Ω–∏–º–∞–Ω–∏–µ:**  
- –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ `signatures_merged.json` –≤ git ‚Äî –æ–Ω —É–∂–µ –≤ `.gitignore`.
- –ï—Å–ª–∏ –≤—ã –æ–±–Ω–æ–≤–∏–ª–∏ –∏–ª–∏ –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º!

---

## üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è merge_signatures.py

```sh
python3 assets/merge_signatures.py
```
- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª `assets/signatures_merged.json`.

---

## üìÑ –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞
‚ö†Ô∏è /Users/username/Downloads/malware.exe ‚Äî Matched sha256 hash 44d88612fea8a8f36de82e1278abb02f3f2e1f0d7bb3e9c3e9180c10d5819be
Scan finished. Files checked: 1234, threats: 1

---

## ‚ùì FAQ

**Q:** –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è —Ö—Ä–∞–Ω–∏—Ç—å –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª —Å–∏–≥–Ω–∞—Ç—É—Ä –≤ git?  
**A:** GitHub –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª—ã –±–æ–ª—å—à–µ 100 –ú–ë. –ü–æ—ç—Ç–æ–º—É —Ñ–∞–π–ª —Ä–∞–∑–±–∏—Ç –Ω–∞ —á–∞—Å—Ç–∏ –∏ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º.

**Q:** –ú–æ–∂–Ω–æ –ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã?  
**A:** –î–∞! –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ –æ–¥–Ω—É –∏–∑ —á–∞—Å—Ç–µ–π, –ª–∏–±–æ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —á–∞—Å—Ç—å, –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª.

---

## üßë‚Äçüíª –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ê–≤—Ç–æ—Ä: [BogdanAlaitsev](https://github.com/BogdanAlaitsev)

---

## üèÅ –£–¥–∞—á–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è!
